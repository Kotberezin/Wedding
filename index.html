<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ü–∞—à–∞ & –í–∞—Ä—è ‚Äî –ö–≤–µ—Å—Ç-–ø–æ–¥–∞—Ä–æ–∫</title>
  <meta name="description" content="–ù–µ–±–æ–ª—å—à–æ–π —Å–≤–∞–¥–µ–±–Ω—ã–π –∫–≤–µ—Å—Ç-–ø–æ–¥–∞—Ä–æ–∫" />
  <style>
    :root{
      --bg:#f6f8fb;--card:#fff;--text:#1c2530;--muted:#5c6b7a;--primary:#2e6df6;
      --ok:#20a56a;--bad:#e04646;--border:#e6e9ee;--focus:#8fb3ff;--shadow:0 10px 30px rgba(20,40,90,.08)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
      background:radial-gradient(1200px 600px at 10% -10%,#e9f1ff 0%,transparent 60%),
                 radial-gradient(1000px 600px at 110% -20%,#e9fff3 0%,transparent 55%),var(--bg)
    }
    .container{max-width:720px;margin:40px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;box-shadow:var(--shadow)}
    .intro{margin-bottom:20px}
    h1{margin:0 0 8px;font-size:28px;line-height:1.2}
    p{margin:.4em 0 0}
    .muted{color:var(--muted);text-align:center;margin-top:14px}
    .q{padding:18px 0;border-top:1px dashed var(--border)}
    .q:first-child{border-top:0}
    .q h3{margin:0 0 10px;font-size:18px;line-height:1.35;font-weight:650}
    .label{font-size:13px;color:var(--muted);margin:0 0 6px}
    input.answer{
      width:100%;padding:14px 14px;font-size:16px;border-radius:12px;border:2px solid #dde3ea;outline:0;
      transition:border-color .2s,background-color .2s,box-shadow .2s;background:#fafcff
    }
    input.answer:focus{border-color:var(--focus);box-shadow:0 0 0 4px rgba(143,179,255,.2)}
    input.answer.correct{border-color:var(--ok);background:#eafaf3}
    input.answer.incorrect{border-color:var(--bad);background:#fff0f0}
    .hint{font-size:13px;color:var(--muted);margin-top:6px}
    .progress{margin-top:16px;font-weight:600;color:var(--muted)}
    .green{color:var(--ok)} .red{color:var(--bad)}
    .celebrate{position:fixed;inset:0;display:grid;place-items:center;pointer-events:none;font-size:64px;opacity:0;transform:scale(.9);transition:.35s ease}
    .celebrate.show{opacity:1;transform:scale(1);animation:pop .9s ease forwards}
    @keyframes pop{0%{transform:scale(.9) rotate(-6deg)}50%{transform:scale(1.08) rotate(6deg)}100%{transform:scale(1) rotate(0);opacity:0}}
    @media (max-width:520px){h1{font-size:24px}}
  </style>
</head>
<body>
  <main class="container">
    <header class="card intro">
      <h1>–î–æ—Ä–æ–≥–∏–µ –ü–∞—à–∞ –∏ –í–∞—Ä—è! üíç‚úàÔ∏è</h1>
      <p>–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—à –ø–æ–¥–∞—Ä–æ–∫, –≤—ã –¥–æ–ª–∂–Ω—ã –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—ã –∏–¥–µ–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏ –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º!
        –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –≤–∞—à–µ–π –ª—é–±–≤–∏. –í–≤–æ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –ø—Ä—è–º–æ –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–∞–º–∏ ‚Äî –ø–æ–ª–µ –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è
        <b class="green">–∑–µ–ª—ë–Ω—ã–º</b>, –µ—Å–ª–∏ –≤—Å—ë –≤–µ—Ä–Ω–æ, –∏ <b class="red">–∫—Ä–∞—Å–Ω—ã–º</b> ‚Äî –µ—Å–ª–∏ –Ω–µ—Ç.</p>
    </header>

    <section id="quiz" class="card">
      <div id="questions"></div>
      <div id="progress" class="progress" aria-live="polite"></div>
    </section>

    <footer class="muted"><p>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ—Ç–≤–µ—Ç—ã –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –≤ –ª—é–±–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ, –±–µ–∑ –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è. üòâ</p></footer>
  </main>

  <div id="celebrate" class="celebrate" aria-hidden="true">üéâ</div>

  <noscript><div style="max-width:720px;margin:20px auto;color:#e04646;text-align:center">
    –í–∫–ª—é—á–∏—Ç–µ JavaScript –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî –±–µ–∑ –Ω–µ–≥–æ –∫–≤–µ—Å—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
  </div></noscript>

  <script>
    // ===== –ù–∞—Å—Ç—Ä–æ–π–∫–∏ =====
    const REDIRECT_URL = "prize.html";
    const TOTAL_TO_SOLVE = 5;

    // –í–ê–®–ò –í–û–ü–†–û–°–´: —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –Ω–∏–∂–µ.
    const QUESTIONS = [
      { prompt: "–ì–¥–µ –≤—ã –≤–ø–µ—Ä–≤—ã–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å?", answers: ["–≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ","—É–Ω–∏–≤–µ—Ä","—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"] },
      { prompt: "–ö–∞–∫–æ–µ –±–ª—é–¥–æ –≤—ã –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏ –≤–º–µ—Å—Ç–µ?", answers: ["–ø–∞—Å—Ç–∞","–ø–∞—Å—Ç—É","–∫–∞—Ä–±–æ–Ω–∞—Ä–∞","–ø–∞—Å—Ç–∞ –∫–∞—Ä–±–æ–Ω–∞—Ä–∞"] },
      { prompt: "–ì–æ—Ä–æ–¥ –≤–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è?", answers: ["–ø–∏—Ç–µ—Ä","—Å–∞–Ω–∫—Ç–ø–µ—Ç–µ—Ä–±—É—Ä–≥","—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥","—Å–∞–Ω–∫—Ç –ø–µ—Ç–µ—Ä–±—É—Ä–≥","spb"] },
      { prompt: "–ö–∞–∫ –∑–æ–≤—É—Ç –≤–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –æ–±—â–µ–≥–æ –ø–∏—Ç–æ–º—Ü–∞?", answers: ["–º—è—Ç–∞","–º—è—Ç–∫–∞","myata"] },
      { prompt: "–ö–∞–∫–æ–π —Ñ–∏–ª—å–º –≤—ã –Ω–∞–∑—ã–≤–∞–µ—Ç–µ —Å–≤–æ–∏–º –∫–æ–º—Ñ–æ—Ä—Ç-—Ñ–∏–ª—å–º–æ–º?", answers: ["1+1","–æ–¥–∏–Ω–ø–ª—é—Å–æ–¥–∏–Ω","the intouchables","–∏–Ω—Ç—É—á–∞–±–ª–∑","–∏–Ω—Ç—É—à–µ–±–ª—Å"] }
    ];
    // =====================

    function norm(s){return (s||"").toString().toLowerCase().trim().replace(/—ë/g,"–µ").replace(/[.,!?:;'\"`^~@#$%&*_=+<>/\\|()\\[\\]\\-\\s‚Äì‚Äî]/g,"")}
    function isCorrect(val, answers){const v = norm(val); return answers.some(a => norm(a) === v)}
    const qsRoot = document.getElementById("questions");
    const progressEl = document.getElementById("progress");
    const celebrate = document.getElementById("celebrate");
    let correctCount = 0; let solved = new Array(QUESTIONS.length).fill(false);

    function render(){
      qsRoot.innerHTML = "";
      QUESTIONS.forEach((q, idx) => {
        const block = document.createElement("div"); block.className = "q";
        const title = document.createElement("h3"); title.textContent = ${idx+1}. ${q.prompt}; block.appendChild(title);
        const label = document.createElement("div"); label.className = "label"; label.textContent = "–í–∞—à –æ—Ç–≤–µ—Ç:"; block.appendChild(label);
        const input = document.createElement("input"); input.className="answer"; input.type="text"; input.autocomplete="off"; input.spellcheck=false; input.setAttribute("data-index", idx);
        input.addEventListener("input", onType); block.appendChild(input);
        const hint=document.createElement("div"); hint.className="hint"; hint.textContent="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏."; block.appendChild(hint);
        qsRoot.appendChild(block);
      });
      updateProgress();
    }

    function onType(e){
      const input = e.target; const idx = Number(input.getAttribute("data-index")); const q = QUESTIONS[idx];
      if (isCorrect(input.value, q.answers)){
        if (!solved[idx]){ solved[idx]=true; correctCount++; }
        input.classList.remove("incorrect"); input.classList.add("correct"); input.disabled = true; popCelebrate();
      } else {
        if (!solved[idx]){
          input.classList.remove("correct");
          if (input.value.trim().length>0){ input.classList.add("incorrect"); } else { input.classList.remove("incorrect"); }
        }
      }
      updateProgress();
    }

    function updateProgress(){
      const need = Math.min(TOTAL_TO_SOLVE, QUESTIONS.length);
      progressEl.textContent = –í–µ—Ä–Ω–æ: ${correctCount} –∏–∑ ${need};
      if (correctCount >= need){ setTimeout(()=>{ window.location.href = REDIRECT_URL; }, 900); }
    }
    function popCelebrate(){ celebrate.classList.remove("show"); void celebrate.offsetWidth; celebrate.classList.add("show"); }

    render();
  </script>
</body>
</html>